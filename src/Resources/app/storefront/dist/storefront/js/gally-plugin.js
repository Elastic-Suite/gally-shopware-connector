"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["gally-plugin"],{2279:(e,t,i)=>{var r,s,l,n=i(5410),o=i(3206),a=i(8254);class c{static bind(e){null===this.client&&(this.client=new a.Z);let t=e.el.querySelector(".viewMoreLink");t&&t.addEventListener("click",this.viewMore.bind(this,e))}static viewMore(e,t){t.preventDefault(),e.listing.addLoadingIndicatorClass();let i={};i="filterPropertySelectOptions"in e.el.dataset?JSON.parse(e.el.dataset.filterPropertySelectOptions):JSON.parse(e.el.dataset.filterMultiSelectOptions),console.log(i.name),this.client.post(t.target.dataset.url,JSON.stringify({aggregation:i.name}),this.updateFilterElement.bind(this,e),"application/json",!0)}static updateFilterElement(e,t){const i=document.createElement("div");i.innerHTML=t,e.el.querySelector("ul").replaceWith(i.querySelector("ul")),e._registerEvents(),e.listing.removeLoadingIndicatorClass()}}r=c,l=null,(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s="client"))in r?Object.defineProperty(r,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[s]=l;class h extends n.Z{init(){super.init(),c.bind(this)}setValuesFromUrl(e={}){let t=!1;const i=e[this.options.name],r=i?i.split("|"):[],s=this.selection.filter((e=>!r.includes(e))),l=r.filter((e=>!this.selection.includes(e)));return(s.length>0||l.length>0)&&(t=!0),l.forEach((e=>{const t=o.Z.querySelector(this.el,`[id="${e}"]`,!1);t&&(t.checked=!0),this.selection.push(e)})),s.forEach((e=>{this.reset(e),this.selection=this.selection.filter((t=>t!==e))})),this._updateCount(),t}}var u=i(3629);class d extends u.Z{init(){super.init(),c.bind(this)}setValuesFromUrl(e={}){let t=!1;const i=e[this.options.name],r=i?i.split("|"):[],s=this.selection.filter((e=>!r.includes(e))),l=r.filter((e=>!this.selection.includes(e)));return(s.length>0||l.length>0)&&(t=!0),l.forEach((e=>{const t=o.Z.querySelector(this.el,`[id="${e}"]`,!1);t&&(t.checked=!0),this.selection.push(e)})),s.forEach((e=>{this.reset(e),this.selection=this.selection.filter((t=>t!==e))})),this._updateCount(),t}}const p=window.PluginManager;p.override("FilterMultiSelect",h,"[data-filter-multi-select]"),p.override("FilterPropertySelect",d,"[data-filter-property-select]")},6536:(e,t,i)=>{i.d(t,{Z:()=>a});var r,s,l,n=i(6285),o=i(3206);class a extends n.Z{_init(){super._init(),this._validateMethods();const e=o.Z.querySelector(document,this.options.parentFilterPanelSelector);this.listing=window.PluginManager.getPluginInstanceFromElement(e,"Listing"),this.listing.registerFilter(this),this._preventDropdownClose()}_preventDropdownClose(){const e=o.Z.querySelector(this.el,this.options.dropdownSelector,!1);e&&e.addEventListener("click",(e=>{e.stopPropagation()}))}_validateMethods(){if("function"!=typeof this.getValues)throw new Error(`[${this._pluginName}] Needs the method "getValues"'`);if("function"!=typeof this.getLabels)throw new Error(`[${this._pluginName}] Needs the method "getLabels"'`);if("function"!=typeof this.reset)throw new Error(`[${this._pluginName}] Needs the method "reset"'`);if("function"!=typeof this.resetAll)throw new Error(`[${this._pluginName}] Needs the method "resetAll"'`)}}r=a,l={parentFilterPanelSelector:".cms-element-product-listing-wrapper",dropdownSelector:".filter-panel-item-dropdown"},(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s="options"))in r?Object.defineProperty(r,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[s]=l},5410:(e,t,i)=>{i.d(t,{Z:()=>u});var r,s,l,n=i(3206),o=i(1966),a=i(6536),c=i(1857),h=i.n(c);class u extends a.Z{init(){this.selection=[],this.counter=n.Z.querySelector(this.el,this.options.countSelector),this._registerEvents()}_registerEvents(){const e=n.Z.querySelectorAll(this.el,this.options.checkboxSelector);o.Z.iterate(e,(e=>{e.addEventListener("change",this._onChangeFilter.bind(this))}))}getValues(){const e=n.Z.querySelectorAll(this.el,`${this.options.checkboxSelector}:checked`,!1);let t=[];e?o.Z.iterate(e,(e=>{t.push(e.id)})):t=[],this.selection=t,this._updateCount();const i={};return i[this.options.name]=t,i}getLabels(){const e=n.Z.querySelectorAll(this.el,`${this.options.checkboxSelector}:checked`,!1);let t=[];return e?o.Z.iterate(e,(e=>{t.push({label:e.dataset.label,id:e.id})})):t=[],t}setValuesFromUrl(e={}){let t=!1;const i=e[this.options.name],r=i?i.split("|"):[],s=this.selection.filter((e=>!r.includes(e))),l=r.filter((e=>!this.selection.includes(e)));return(s.length>0||l.length>0)&&(t=!0),l.forEach((e=>{const t=n.Z.querySelector(this.el,`[id="${e}"]`,!1);t&&(t.checked=!0,this.selection.push(t.id))})),s.forEach((e=>{this.reset(e),this.selection=this.selection.filter((t=>t!==e))})),this._updateCount(),t}_onChangeFilter(){this.listing.changeListing(!0,{p:1})}reset(e){const t=n.Z.querySelector(this.el,`[id="${e}"]`,!1);t&&(t.checked=!1)}resetAll(){this.selection.filter=[];const e=n.Z.querySelectorAll(this.el,`${this.options.checkboxSelector}:checked`,!1);e&&o.Z.iterate(e,(e=>{e.checked=!1}))}refreshDisabledState(e){const t=e[this.options.name];!t.entities||t.entities.length<1?this.disableFilter():(this.enableFilter(),this._disableInactiveFilterOptions(t.entities.map((e=>e.id))))}_disableInactiveFilterOptions(e){const t=n.Z.querySelectorAll(this.el,this.options.checkboxSelector);o.Z.iterate(t,(t=>{!0!==t.checked&&(e.includes(t.id)?this.enableOption(t):this.disableOption(t))}))}disableOption(e){const t=e.closest(this.options.listItemSelector);t.classList.add("disabled"),t.setAttribute("title",this.options.snippets.disabledFilterText),e.disabled=!0}enableOption(e){const t=e.closest(this.options.listItemSelector);t.removeAttribute("title"),t.classList.remove("disabled"),e.disabled=!1}enableAllOptions(){const e=n.Z.querySelectorAll(this.el,this.options.checkboxSelector);o.Z.iterate(e,(e=>{this.enableOption(e)}))}disableFilter(){const e=n.Z.querySelector(this.el,this.options.mainFilterButtonSelector);e.classList.add("disabled"),e.setAttribute("disabled","disabled"),e.setAttribute("title",this.options.snippets.disabledFilterText)}enableFilter(){const e=n.Z.querySelector(this.el,this.options.mainFilterButtonSelector);e.classList.remove("disabled"),e.removeAttribute("disabled"),e.removeAttribute("title")}_updateCount(){this.counter.innerText=this.selection.length?`(${this.selection.length})`:""}}r=u,s="options",l=h()(a.Z.options,{checkboxSelector:".filter-multi-select-checkbox",countSelector:".filter-multi-select-count",listItemSelector:".filter-multi-select-list-item",snippets:{disabledFilterText:"Filter not active"},mainFilterButtonSelector:".filter-panel-item-toggle"}),(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s))in r?Object.defineProperty(r,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[s]=l},3629:(e,t,i)=>{i.d(t,{Z:()=>u});var r,s,l,n=i(5410),o=i(1966),a=i(3206),c=i(1857),h=i.n(c);class u extends n.Z{getLabels(){const e=a.Z.querySelectorAll(this.el,`${this.options.checkboxSelector}:checked`,!1);let t=[];return e?o.Z.iterate(e,(e=>{t.push({label:e.dataset.label,id:e.id,previewHex:e.dataset.previewHex,previewImageUrl:e.dataset.previewImageUrl})})):t=[],t}refreshDisabledState(e){if(""===this.options.propertyName)return;const t=[],i=e[this.options.name].entities;if(!i)return void this.disableFilter();const r=i.find((e=>e.translated.name===this.options.propertyName));if(!r)return void this.disableFilter();t.push(...r.options);const s=this.getValues();t.length<1&&0===s.properties.length?this.disableFilter():(this.enableFilter(),s.properties.length>0||this._disableInactiveFilterOptions(t.map((e=>e.id))))}}r=u,s="options",l=h()(n.Z.options,{propertyName:""}),(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s))in r?Object.defineProperty(r,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[s]=l}},e=>{e.O(0,["vendor-node","vendor-shared"],(()=>{return t=2279,e(e.s=t);var t}));e.O()}]);